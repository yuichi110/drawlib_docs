<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dimage &mdash; drawlib 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=6432bc99" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=2709fde1"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Smart Arts" href="../smartarts/doc.html" />
    <link rel="prev" title="Font Classes" href="../font/doc.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            drawlib
          </a>
              <div class="version">
                version: 0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introductions:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introductions/about/doc.html">About drawlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introductions/install/doc.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introductions/lib_design/doc.html">Drawlib from a High Perspective</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introductions/quick_start/doc.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introductions/other_version_docs/doc.html">Other Version Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Foundations:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/canvas/doc.html">Canvas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/coordinate_align/doc.html">Coordinate and Alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/icon/doc.html">Drawing Icons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/image/doc.html">Drawing Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/line/doc.html">Drawing line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/line_style/doc.html">Line Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/shape/doc.html">Drawing Shape</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/shape_style/doc.html">Shape Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/text/doc.html">Drawing Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/theme/doc.html">Theme feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/build_many/doc.html">Building many images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundations/programming/doc.html">Coding Best Practices</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Topics:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../color/doc.html">Color Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../font/doc.html">Font Classes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Dimage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#cache">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="#things-controlled-by-image">Things Controlled by image()</a></li>
<li class="toctree-l2"><a class="reference internal" href="#save">Save</a></li>
<li class="toctree-l2"><a class="reference internal" href="#get-image-pixel-size">Get Image Pixel Size</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resizing-and-changing-aspect">Resizing and Changing Aspect</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trimming">Trimming</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flip-horizontally-and-vertically">Flip Horizontally and Vertically</a></li>
<li class="toctree-l2"><a class="reference internal" href="#change-color">Change color</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../smartarts/doc.html">Smart Arts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../smartarts_bubblespeech/doc.html">Smart Arts: Bubblespeech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../smartarts_sourcecode/doc.html">Smart Arts: SourceCode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debug/doc.html">Debugging errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/doc.html">Library Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli_options/doc.html">CLI and Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example_flow/doc.html">Example of Doc Build Flow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Themes:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../themes/advanced_topics/doc.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../themes/official_default/doc.html">Official Theme: default</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../themes/official_default2/doc.html">Official Theme: default2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../themes/official_essentials/doc.html">Official Theme: essentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../themes/official_monochrome/doc.html">Official Theme: monochrome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../themes/customize/doc.html">Customize official theme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../themes/create/doc.html">Create Your Custom Theme from Scratch</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Docs:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/modules.html">drawlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/drawlib.html">drawlib package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/drawlib.v0_1.html">drawlib.v0_1 package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/drawlib.v0_1.private.html">drawlib.v0_1.private package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/drawlib.v0_1.private.core.html">drawlib.v0_1.private.core package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">drawlib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Dimage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/manual/advanced_topics/dimage/doc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dimage">
<h1>Dimage<a class="headerlink" href="#dimage" title="Link to this heading"></a></h1>
<p>Dimage is a image data class of drawlib.
It provides 2 features.</p>
<ul class="simple">
<li><p>Effecting images</p></li>
<li><p>Cache (load data one place, use it many places)</p></li>
</ul>
<section id="cache">
<h2>Cache<a class="headerlink" href="#cache" title="Link to this heading"></a></h2>
<p>Dimage posses class attribute <code class="docutils literal notranslate"><span class="pre">cache</span></code>.
The cache posses instance of <code class="docutils literal notranslate"><span class="pre">DimageCache</span></code> and it provides these methods.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">has(name:str)</span></code>: Whether posses cache or not</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set(name:str,</span> <span class="pre">image:str|Dimage|PIL.Image)</span></code>: Cache image data with specified name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list()</span></code>: get all cache names</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get(name:str)</span></code>: get cache data from name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delete(name:str)</span></code>: delete cache</p></li>
</ul>
<p>You will not create <code class="docutils literal notranslate"><span class="pre">DimageCache</span></code> instance by yourself.
Just understanding accessing cache through <code class="docutils literal notranslate"><span class="pre">Dimage.cache</span></code> and the provided methods are same to style cache feature of <code class="docutils literal notranslate"><span class="pre">dtheme</span></code>.
Here is an example.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">image_cache.py</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span> <span class="nn">drawlib.apis</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="linenos">4</span><span class="n">Dimage</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;linux&quot;</span><span class="p">,</span> <span class="s2">&quot;linux.png&quot;</span><span class="p">)</span>
<span class="linenos">5</span><span class="n">im</span> <span class="o">=</span> <span class="n">Dimage</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;linux&quot;</span><span class="p">)</span>
<span class="linenos">6</span><span class="n">image</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">25</span><span class="p">,</span> <span class="n">im</span><span class="p">)</span>
<span class="linenos">7</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>In this example, we make cache first with <code class="docutils literal notranslate"><span class="pre">set()</span></code>.
It takes image arg and all of its types are converted to Dimage internally.</p>
<p>And then, get the cache data by specifying name.
Return data is copied one.
So, changing data doesn’t effects cache content.
But in the first place, you can’t change dimage data like str.
Here is an output.</p>
<figure class="align-center">
<a class="with-border reference internal image-reference" href="../../../_images/image_cache.png"><img alt="../../../_images/image_cache.png" class="with-border" src="../../../_images/image_cache.png" style="width: 600px;" /></a>
</figure>
<p>The most popular usage is loading to cache at common file and use it at every where.
If you specify file name at each illustration code file, changing image path and name are burden.
However, if you use cache, only changing location is common code.</p>
</section>
<section id="things-controlled-by-image">
<h2>Things Controlled by image()<a class="headerlink" href="#things-controlled-by-image" title="Link to this heading"></a></h2>
<p>Dimage is helper for function <code class="docutils literal notranslate"><span class="pre">image()</span></code>.
So, Dimage doesn’t have features which <code class="docutils literal notranslate"><span class="pre">image()</span></code> has.
These features are not implemented.</p>
<ul class="simple">
<li><p>rotate: Option <code class="docutils literal notranslate"><span class="pre">angle</span></code></p></li>
<li><p>add border: Attribute <code class="docutils literal notranslate"><span class="pre">lwidth</span></code> and <code class="docutils literal notranslate"><span class="pre">lcolor</span></code> of <code class="docutils literal notranslate"><span class="pre">ImageStyle</span></code>.</p></li>
</ul>
</section>
<section id="save">
<h2>Save<a class="headerlink" href="#save" title="Link to this heading"></a></h2>
<p>Dimage can save its data to file without using drawlib’s canvas.
<code class="docutils literal notranslate"><span class="pre">save()</span></code> method does this.
It takes mandatory arg <code class="docutils literal notranslate"><span class="pre">file</span></code>.
Arg <code class="docutils literal notranslate"><span class="pre">file</span></code> of Canvas’s <code class="docutils literal notranslate"><span class="pre">save()</span></code> is optional, but Dimage’s <code class="docutils literal notranslate"><span class="pre">save()</span></code> requires it.</p>
<p>If you provide relative path, image file is save to relative to script path.
Absolute path will work also.</p>
</section>
<section id="get-image-pixel-size">
<h2>Get Image Pixel Size<a class="headerlink" href="#get-image-pixel-size" title="Link to this heading"></a></h2>
<p>You can get original image size through method <code class="docutils literal notranslate"><span class="pre">get_image_size()</span></code>.
It returns tuple of width and height.
This function might be used with <code class="docutils literal notranslate"><span class="pre">resize()</span></code> and <code class="docutils literal notranslate"><span class="pre">trim()</span></code>.</p>
</section>
<section id="resizing-and-changing-aspect">
<h2>Resizing and Changing Aspect<a class="headerlink" href="#resizing-and-changing-aspect" title="Link to this heading"></a></h2>
<p>Method <code class="docutils literal notranslate"><span class="pre">resize()</span></code> takes 2 arguments <code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">height</span></code>.
They are not size on drawlib’s canvas but original data pixel size.</p>
<p>Before resizing, you can check original width and height with method <code class="docutils literal notranslate"><span class="pre">resize()</span></code>.
If you keep ratio between width and height, the original image size becomes big and small with keeping original aspect.
If you want to change aspect, calculate new width or height.</p>
<p>Here is a example of changing aspect.
We will make image height half.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">image_getsize_resize.py</span><a class="headerlink" href="#id2" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">drawlib.apis</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># original</span>
<span class="linenos"> 6</span><span class="n">original_image</span> <span class="o">=</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">image</span><span class="p">((</span><span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">original_image</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="n">text</span><span class="p">((</span><span class="mi">25</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="s2">&quot;original&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">original_image</span><span class="o">.</span><span class="n">get_image_size</span><span class="p">()</span>
<span class="linenos">10</span><span class="n">text</span><span class="p">((</span><span class="mi">25</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;width=</span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2">, height=</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="c1"># resize</span>
<span class="linenos">13</span><span class="n">new_height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="linenos">14</span><span class="n">resized_image</span> <span class="o">=</span> <span class="n">original_image</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">new_height</span><span class="p">)</span>
<span class="linenos">15</span><span class="n">image</span><span class="p">((</span><span class="mi">75</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">resized_image</span><span class="p">)</span>
<span class="linenos">16</span><span class="n">text</span><span class="p">((</span><span class="mi">75</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="s2">&quot;resize()&quot;</span><span class="p">)</span>
<span class="linenos">17</span><span class="n">text</span><span class="p">((</span><span class="mi">75</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;width=</span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2">, height=</span><span class="si">{</span><span class="n">new_height</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Here is an output.</p>
<figure class="align-center" id="id3">
<a class="with-border reference internal image-reference" href="../../../_images/image_getsize_resize.png"><img alt="../../../_images/image_getsize_resize.png" class="with-border" src="../../../_images/image_getsize_resize.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">resize</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="trimming">
<h2>Trimming<a class="headerlink" href="#trimming" title="Link to this heading"></a></h2>
<p>If the image contains useless part, you can trim/crop it with method <code class="docutils literal notranslate"><span class="pre">trim()</span></code>.</p>
<p>Implementing this for next release.</p>
</section>
<section id="flip-horizontally-and-vertically">
<h2>Flip Horizontally and Vertically<a class="headerlink" href="#flip-horizontally-and-vertically" title="Link to this heading"></a></h2>
<p>You can flip image easily.
<code class="docutils literal notranslate"><span class="pre">mirror()</span></code> is used for horizontal flip.
And <code class="docutils literal notranslate"><span class="pre">flip()</span></code> is used for vertical flip.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">image_mirror_flip.py</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">drawlib.apis</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># original</span>
<span class="linenos"> 6</span><span class="n">original_image</span> <span class="o">=</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">image</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">original_image</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="n">text</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;original&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="c1"># mirror</span>
<span class="linenos">11</span><span class="n">image</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">original_image</span><span class="o">.</span><span class="n">mirror</span><span class="p">())</span>
<span class="linenos">12</span><span class="n">text</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;mirror()&quot;</span><span class="p">)</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="c1"># flip</span>
<span class="linenos">15</span><span class="n">image</span><span class="p">((</span><span class="mi">80</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">original_image</span><span class="o">.</span><span class="n">flip</span><span class="p">())</span>
<span class="linenos">16</span><span class="n">text</span><span class="p">((</span><span class="mi">80</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;flip()&quot;</span><span class="p">)</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Here is an output.</p>
<figure class="align-center">
<a class="with-border reference internal image-reference" href="../../../_images/image_mirror_flip.png"><img alt="../../../_images/image_mirror_flip.png" class="with-border" src="../../../_images/image_mirror_flip.png" style="width: 600px;" /></a>
</figure>
</section>
<section id="change-color">
<h2>Change color<a class="headerlink" href="#change-color" title="Link to this heading"></a></h2>
<p>Drawlib provides lots of changing color function.
<code class="docutils literal notranslate"><span class="pre">grayscale()</span></code> makes the image gray scale.
And <code class="docutils literal notranslate"><span class="pre">sepia()</span></code> makes the image sepia color.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">image_grayscale_sepia.py</span><a class="headerlink" href="#id5" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">drawlib.apis</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># original</span>
<span class="linenos"> 6</span><span class="n">original_image</span> <span class="o">=</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">image</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">original_image</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="n">text</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;original&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="c1"># grayscale</span>
<span class="linenos">11</span><span class="n">image</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grayscale</span><span class="p">())</span>
<span class="linenos">12</span><span class="n">text</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;grayscale()&quot;</span><span class="p">)</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="c1"># sepia</span>
<span class="linenos">15</span><span class="n">image</span><span class="p">((</span><span class="mi">80</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">original_image</span><span class="o">.</span><span class="n">sepia</span><span class="p">())</span>
<span class="linenos">16</span><span class="n">text</span><span class="p">((</span><span class="mi">80</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;sepia()&quot;</span><span class="p">)</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Here is an output.</p>
<figure class="align-center">
<a class="with-border reference internal image-reference" href="../../../_images/image_grayscale_sepia.png"><img alt="../../../_images/image_grayscale_sepia.png" class="with-border" src="../../../_images/image_grayscale_sepia.png" style="width: 600px;" /></a>
</figure>
<p><code class="docutils literal notranslate"><span class="pre">brightness()</span></code> change brightness.
0.0 is complete dark and 1.0 is original. You can set values bigger than 1.0. It makes more light on the image.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">image_brightness.py</span><a class="headerlink" href="#id6" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">drawlib.apis</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">image</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">brightness</span><span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>
<span class="linenos"> 6</span><span class="n">text</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;brightness(0.5)&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="n">image</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">brightness</span><span class="p">(</span><span class="mf">1.0</span><span class="p">))</span>
<span class="linenos"> 9</span><span class="n">text</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;brightness(1.0): Original&quot;</span><span class="p">)</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="n">image</span><span class="p">((</span><span class="mi">80</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">brightness</span><span class="p">(</span><span class="mf">2.0</span><span class="p">))</span>
<span class="linenos">12</span><span class="n">text</span><span class="p">((</span><span class="mi">80</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;brightness(2.0)&quot;</span><span class="p">)</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Here is an output.</p>
<figure class="align-center">
<a class="with-border reference internal image-reference" href="../../../_images/image_brightness.png"><img alt="../../../_images/image_brightness.png" class="with-border" src="../../../_images/image_brightness.png" style="width: 600px;" /></a>
</figure>
<p><code class="docutils literal notranslate"><span class="pre">invert()</span></code> reverse RGB and <code class="docutils literal notranslate"><span class="pre">colorize()</span></code> put colors to grayscaled image.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">image_invert_colorize.py</span><a class="headerlink" href="#id7" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">drawlib.apis</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="n">Colors</span><span class="o">.</span><span class="n">Gray</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="n">tstyle</span> <span class="o">=</span> <span class="n">TextStyle</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">Colors</span><span class="o">.</span><span class="n">White</span><span class="p">)</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c1"># invert</span>
<span class="linenos"> 7</span><span class="n">image</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">invert</span><span class="p">())</span>
<span class="linenos"> 8</span><span class="n">text</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;invert()&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">tstyle</span><span class="p">)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="c1"># brightness</span>
<span class="linenos">11</span><span class="n">image</span><span class="p">(</span>
<span class="linenos">12</span>    <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>
<span class="linenos">13</span>    <span class="mi">20</span><span class="p">,</span>
<span class="linenos">14</span>    <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">colorize</span><span class="p">(</span>
<span class="linenos">15</span>        <span class="n">from_black_to</span><span class="o">=</span><span class="n">Colors</span><span class="o">.</span><span class="n">Blue</span><span class="p">,</span>
<span class="linenos">16</span>        <span class="n">from_white_to</span><span class="o">=</span><span class="n">Colors</span><span class="o">.</span><span class="n">Red</span><span class="p">,</span>
<span class="linenos">17</span>    <span class="p">),</span>
<span class="linenos">18</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">text</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;colorize()&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">tstyle</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="c1"># invert (rectangle is just background)</span>
<span class="linenos">22</span><span class="n">image</span><span class="p">(</span>
<span class="linenos">23</span>    <span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>
<span class="linenos">24</span>    <span class="mi">20</span><span class="p">,</span>
<span class="linenos">25</span>    <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">colorize</span><span class="p">(</span>
<span class="linenos">26</span>        <span class="n">from_black_to</span><span class="o">=</span><span class="n">Colors</span><span class="o">.</span><span class="n">Blue</span><span class="p">,</span>
<span class="linenos">27</span>        <span class="n">from_white_to</span><span class="o">=</span><span class="n">Colors</span><span class="o">.</span><span class="n">Red</span><span class="p">,</span>
<span class="linenos">28</span>        <span class="n">from_mid_to</span><span class="o">=</span><span class="n">Colors</span><span class="o">.</span><span class="n">Green</span><span class="p">,</span>
<span class="linenos">29</span>    <span class="p">),</span>
<span class="linenos">30</span><span class="p">)</span>
<span class="linenos">31</span><span class="n">text</span><span class="p">((</span><span class="mi">80</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;colorize()&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">tstyle</span><span class="p">)</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Here is an output.</p>
<figure class="align-center">
<a class="with-border reference internal image-reference" href="../../../_images/image_invert_colorize.png"><img alt="../../../_images/image_invert_colorize.png" class="with-border" src="../../../_images/image_invert_colorize.png" style="width: 600px;" /></a>
</figure>
<p><code class="docutils literal notranslate"><span class="pre">mosaic()</span></code> apply mosaic effect.
It takes optional argument <code class="docutils literal notranslate"><span class="pre">block_size</span></code>. It is a mosaic pixel size. Default is 8.
<code class="docutils literal notranslate"><span class="pre">blur()</span></code> apply blur effect.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">image_mosaic_blur.py</span><a class="headerlink" href="#id8" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">drawlib.apis</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">image</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mosaic</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span>
<span class="linenos"> 6</span><span class="n">text</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;mosaic(8)&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="n">image</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mosaic</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
<span class="linenos"> 9</span><span class="n">text</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;mosaic(16)&quot;</span><span class="p">)</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="n">image</span><span class="p">((</span><span class="mi">80</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="n">Dimage</span><span class="p">(</span><span class="s2">&quot;linux.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">blur</span><span class="p">())</span>
<span class="linenos">12</span><span class="n">text</span><span class="p">((</span><span class="mi">80</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;blur()&quot;</span><span class="p">)</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Here is an output.</p>
<figure class="align-center">
<a class="with-border reference internal image-reference" href="../../../_images/image_mosaic_blur.png"><img alt="../../../_images/image_mosaic_blur.png" class="with-border" src="../../../_images/image_mosaic_blur.png" style="width: 600px;" /></a>
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../font/doc.html" class="btn btn-neutral float-left" title="Font Classes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../smartarts/doc.html" class="btn btn-neutral float-right" title="Smart Arts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Yuichi Ito.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>